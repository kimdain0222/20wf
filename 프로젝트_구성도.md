# 복지정책 챗봇 프로젝트 구성도

## 🏗️ 전체 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           복지정책 챗봇 시스템                              │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   프론트엔드    │    │    백엔드 API   │    │   데이터베이스  │
│   (React SPA)   │◄──►│   (Flask)       │◄──►│   (SQLite)      │
│                 │    │                 │    │                 │
│ • 사용자 인터페이스│  │ • RESTful API   │    │ • 정책 정보     │
│ • 챗봇 UI       │    │ • 데이터 처리   │    │ • 검색 인덱스   │
│ • 반응형 디자인  │    │ • 비즈니스 로직 │    │ • 메타데이터    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   클라우드 배포  │    │   API 게이트웨이│    │   데이터 수집   │
│   (Vercel)      │    │   (CORS)        │    │   (크롤링)      │
│                 │    │                 │    │                 │
│ • CDN 서비스    │    │ • 크로스 도메인 │    │ • 웹 스크래핑   │
│ • 자동 배포     │    │ • 요청 제한     │    │ • 데이터 정제   │
│ • SSL 인증서    │    │ • 보안 헤더     │    │ • 정기 업데이트 │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## 📊 상세 시스템 구성도

### 1. 프론트엔드 레이어 (Frontend Layer)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              프론트엔드 (React SPA)                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐              │
│  │   사용자 인터페이스  │  │   챗봇 컴포넌트   │  │   정책 검색 UI   │              │
│  │                 │  │                 │  │                 │              │
│  │ • 헤더/네비게이션│  │ • 채팅 인터페이스│  │ • 검색 필터     │              │
│  │ • 메인 대시보드  │  │ • 메시지 표시   │  │ • 결과 목록     │              │
│  │ • 반응형 레이아웃│  │ • 입력 폼       │  │ • 상세 정보     │              │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘              │
│           │                       │                       │                 │
│           └───────────────────────┼───────────────────────┘                 │
│                                   │                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        상태 관리 (React Hooks)                          │ │
│  │                                                                         │ │
│  │ • useState: 컴포넌트 상태 관리                                          │ │
│  │ • useEffect: API 호출 및 사이드 이펙트                                  │ │
│  │ • useContext: 전역 상태 공유                                            │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
│                                   │                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        API 통신 레이어                                  │ │
│  │                                                                         │ │
│  │ • fetch API: 백엔드와의 HTTP 통신                                       │ │
│  │ • JSON 파싱: 응답 데이터 처리                                           │ │
│  │ • 에러 핸들링: 네트워크 오류 처리                                        │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2. 백엔드 레이어 (Backend Layer)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              백엔드 (Flask API)                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐              │
│  │   API 라우터    │  │   비즈니스 로직  │  │   데이터 액세스  │              │
│  │                 │  │                 │  │                 │              │
│  │ • 엔드포인트 정의│  │ • 정책 검색 로직│  │ • DB 연결 관리   │              │
│  │ • HTTP 메서드   │  │ • 필터링 알고리즘│  │ • 쿼리 실행     │              │
│  │ • 요청 검증     │  │ • 데이터 변환   │  │ • 결과 처리      │              │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘              │
│           │                       │                       │                 │
│           └───────────────────────┼───────────────────────┘                 │
│                                   │                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        미들웨어 레이어                                  │ │
│  │                                                                         │ │
│  │ • CORS: 크로스 오리진 리소스 공유                                       │ │
│  │ • 에러 핸들링: 예외 상황 처리                                            │ │
│  │ • 로깅: 요청/응답 로그 기록                                              │ │
│  │ • 인증: API 키 검증 (향후 확장)                                          │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
│                                   │                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        응답 처리                                        │ │
│  │                                                                         │ │
│  │ • JSON 직렬화: 데이터 변환                                              │ │
│  │ • HTTP 상태 코드: 적절한 응답 코드 반환                                 │ │
│  │ • 헤더 설정: 보안 및 캐싱 헤더                                          │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3. 데이터 레이어 (Data Layer)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              데이터베이스 (SQLite)                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        테이블 구조                                      │ │
│  │                                                                         │ │
│  │  welfare_policies 테이블:                                               │ │
│  │  ┌─────────────┬─────────────┬─────────────┬─────────────┐              │ │
│  │  │ id (PK)     │ title       │ region      │ age_range   │              │ │
│  │  ├─────────────┼─────────────┼─────────────┼─────────────┤              │ │
│  │  │ url         │ conditions  │ benefits    │ period      │              │ │
│  │  └─────────────┴─────────────┴─────────────┴─────────────┘              │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
│                                   │                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        인덱스 및 최적화                                 │ │
│  │                                                                         │ │
│  │ • region_idx: 지역별 검색 최적화                                        │ │
│  │ • title_idx: 제목 검색 최적화                                           │ │
│  │ • age_range_idx: 연령대 검색 최적화                                     │ │
│  │ • 복합 인덱스: 다중 조건 검색 최적화                                     │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
│                                   │                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        데이터 관리                                      │ │
│  │                                                                         │ │
│  │ • 백업 및 복구: 정기적인 데이터 백업                                     │ │
│  │ • 데이터 무결성: 제약 조건 및 검증                                       │ │
│  │ • 마이그레이션: 스키마 변경 관리                                         │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 🔄 데이터 흐름도

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   사용자    │    │  프론트엔드 │    │   백엔드    │    │ 데이터베이스│
│             │    │             │    │             │    │             │
│ 1. 검색 요청│───►│ 2. API 호출 │───►│ 3. 쿼리 실행│───►│ 4. 데이터 조회│
│             │    │             │    │             │    │             │
│ 8. 결과 표시│◄───│ 7. UI 업데이트│◄───│ 6. JSON 응답│◄───│ 5. 결과 반환│
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
```

## 🌐 배포 아키텍처

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              클라우드 배포 환경                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────┐                    ┌─────────────────┐                │
│  │   프론트엔드    │                    │    백엔드       │                │
│  │   (Vercel)      │                    │   (Railway)     │                │
│  │                 │                    │                 │                │
│  │ • CDN 서비스    │◄──────────────────►│ • API 서버      │                │
│  │ • 자동 배포     │                    │ • 데이터베이스  │                │
│  │ • SSL 인증서    │                    │ • 로드 밸런서   │                │
│  │ • 전 세계 배포  │                    │ • 모니터링      │                │
│  └─────────────────┘                    └─────────────────┘                │
│           │                                       │                        │
│           ▼                                       ▼                        │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        네트워크 인프라                                  │ │
│  │                                                                         │ │
│  │ • HTTPS 암호화: 모든 통신 암호화                                        │ │
│  │ • CORS 설정: 크로스 도메인 접근 허용                                     │ │
│  │ • DDoS 방어: 분산 서비스 거부 공격 방어                                 │ │
│  │ • 로드 밸런싱: 트래픽 분산 처리                                         │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 🔧 기술 스택 구성도

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              기술 스택                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐              │
│  │   프론트엔드    │  │    백엔드       │  │   데이터베이스  │              │
│  │                 │  │                 │  │                 │              │
│  │ • React 19.1.1  │  │ • Python 3.x    │  │ • SQLite3       │              │
│  │ • JavaScript ES6│  │ • Flask 2.3.3   │  │ • SQL           │              │
│  │ • CSS3          │  │ • Flask-CORS    │  │ • JSON          │              │
│  │ • HTML5         │  │ • Gunicorn      │  │                 │              │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘              │
│           │                       │                       │                 │
│           └───────────────────────┼───────────────────────┘                 │
│                                   │                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        개발 도구                                        │ │
│  │                                                                         │ │
│  │ • Git: 버전 관리                                                        │ │
│  │ • GitHub: 소스 코드 저장소                                              │ │
│  │ • Node.js: 프론트엔드 개발 환경                                          │ │
│  │ • npm: 패키지 관리자                                                    │ │
│  │ • Visual Studio Code: 코드 에디터                                       │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
│                                   │                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        배포 플랫폼                                      │ │
│  │                                                                         │ │
│  │ • Vercel: 프론트엔드 호스팅                                             │ │
│  │ • Railway: 백엔드 서버 호스팅                                           │ │
│  │ • Netlify: 대안 프론트엔드 호스팅                                       │ │
│  │ • Render: 대안 백엔드 호스팅                                            │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 📱 사용자 인터페이스 구성도

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              사용자 인터페이스                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                              헤더                                       │ │
│  │  [로고] 복지정책 챗봇                    [검색] [메뉴] [로그인]          │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────────────────────────────────────┐  │
│  │   사이드바      │  │                   메인 콘텐츠                   │  │
│  │                 │  │                                                 │  │
│  │ • 지역 선택     │  │  ┌─────────────────────────────────────────┐    │  │
│  │   - 서울        │  │  │              챗봇 인터페이스            │    │  │
│  │   - 인천        │  │  │                                         │    │  │
│  │   - 경기도      │  │  │  ┌─────────────────────────────────┐    │    │  │
│  │                 │  │  │  │         채팅 영역               │    │    │  │
│  │ • 연령 필터     │  │  │  │                                 │    │    │  │
│  │   - 20대        │  │  │  │  [봇] 안녕하세요! 어떤 정책을   │    │    │  │
│  │   - 30대        │  │  │  │      찾고 계신가요?             │    │    │  │
│  │   - 40대        │  │  │  │                                 │    │    │  │
│  │                 │  │  │  │  [사용자] 청년 주택 정책        │    │    │  │
│  │ • 키워드 검색   │  │  │  │                                 │    │    │  │
│  │   [검색창]      │  │  │  │  [봇] 청년 주택 정책을 찾아    │    │    │  │
│  │                 │  │  │  │      드리겠습니다...            │    │    │  │
│  │ • 빠른 링크     │  │  │  └─────────────────────────────────┘    │    │  │
│  │   - 인기 정책   │  │  │                                         │    │  │
│  │   - 신규 정책   │  │  │  ┌─────────────────────────────────┐    │    │  │
│  │   - 마감 임박   │  │  │  │         입력 영역               │    │    │  │
│  └─────────────────┘  │  │  │  [메시지 입력창] [전송 버튼]    │    │    │  │
│                       │  │  └─────────────────────────────────┘    │    │  │
│                       │  └─────────────────────────────────────────┘    │  │
│                       │                                                 │  │
│                       │  ┌─────────────────────────────────────────┐    │  │
│                       │  │              검색 결과                  │    │  │
│                       │  │                                         │    │  │
│                       │  │  ┌─────────────────────────────────┐    │    │  │
│                       │  │  │         정책 카드 1             │    │    │  │
│                       │  │  │  제목: 청년 주택 지원           │    │    │  │
│                       │  │  │  지역: 서울 | 연령: 20-30대     │    │    │  │
│                       │  │  │  [상세보기] [신청하기]           │    │    │  │
│                       │  │  └─────────────────────────────────┘    │    │  │
│                       │  │                                         │    │  │
│                       │  │  ┌─────────────────────────────────┐    │    │  │
│                       │  │  │         정책 카드 2             │    │    │  │
│                       │  │  │  제목: 청년 월세 지원           │    │    │  │
│                       │  │  │  지역: 인천 | 연령: 20-40대     │    │    │  │
│                       │  │  │  [상세보기] [신청하기]           │    │    │  │
│                       │  │  └─────────────────────────────────┘    │    │  │
│                       │  └─────────────────────────────────────────┘    │  │
│                       └─────────────────────────────────────────────────┘  │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                              푸터                                       │ │
│  │  © 2024 복지정책 챗봇 | 문의: support@welfare-chatbot.com              │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 🔐 보안 아키텍처

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              보안 구성                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐              │
│  │   네트워크 보안  │  │   애플리케이션  │  │   데이터 보안   │              │
│  │                 │  │      보안       │  │                 │              │
│  │ • HTTPS/TLS     │  │ • 입력 검증     │  │ • 데이터 암호화 │              │
│  │ • SSL 인증서    │  │ • SQL 인젝션    │  │ • 백업 암호화   │              │
│  │ • DDoS 방어     │  │    방지         │  │ • 접근 제어     │              │
│  │ • 방화벽        │  │ • XSS 방지      │  │ • 감사 로그     │              │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘              │
│           │                       │                       │                 │
│           └───────────────────────┼───────────────────────┘                 │
│                                   │                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                        보안 헤더                                        │ │
│  │                                                                         │ │
│  │ • Content-Security-Policy: XSS 방지                                     │ │
│  │ • X-Frame-Options: 클릭재킹 방지                                         │ │
│  │ • X-Content-Type-Options: MIME 스니핑 방지                              │ │
│  │ • Strict-Transport-Security: HTTPS 강제                                 │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

**구성도 작성일**: 2024년  
**프로젝트**: B조 복지정책 챗봇  
**버전**: 1.0
