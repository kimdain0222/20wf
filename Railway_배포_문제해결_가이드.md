# Railway PostgreSQL μ—°κ²° λ¬Έμ  ν•΄κ²° κ°€μ΄λ“

## π¨ ν„μ¬ μƒν™©
- β… PostgreSQL μ—°κ²° μ„±κ³µ
- β… Flask 2.3+ νΈν™μ„± λ¬Έμ  ν•΄κ²°
- β… ν™κ²½ λ³€μ μ„¤μ • μ™„λ£
- β μ„λ²„ μ‹μ‘ μ‹ μ¤λ¥ λ°μƒ

## π”§ ν•΄κ²°λ λ¬Έμ λ“¤

### 1. Flask 2.3+ νΈν™μ„± λ¬Έμ 
- `before_first_request` λ°μ½”λ μ΄ν„° μ κ±°
- μ•± ν©ν† λ¦¬ ν¨ν„΄μ—μ„ μ§μ ‘ μ•± μƒμ„±μΌλ΅ λ³€κ²½

### 2. PostgreSQL ν…μ¤νΈ κ²€μƒ‰ μ„¤μ •
- `korean`μ—μ„ `simple`λ΅ λ³€κ²½ν•μ—¬ νΈν™μ„± λ¬Έμ  ν•΄κ²°

### 3. λ°μ΄ν„°λ² μ΄μ¤ μλ™ μ΄κΈ°ν™”
- Flask μ•± μ‹μ‘ μ‹ μλ™μΌλ΅ λ°μ΄ν„°λ² μ΄μ¤ μ΄κΈ°ν™” μ‹¤ν–‰
- ν…μ΄λΈ” μƒμ„± λ° κΈ°λ³Έ λ°μ΄ν„° μ‚½μ… μλ™ν™”

## π“‹ μµμ‹  μμ •μ‚¬ν•­

### 1. app_postgresql_api.py κ°μ„ 
```python
# μ•± μ‹μ‘ μ‹ λ°μ΄ν„°λ² μ΄μ¤ μ΄κΈ°ν™” μ¶”κ°€
print("π€ Flask μ•± μ‹μ‘ μ¤‘...")
print("π”§ λ°μ΄ν„°λ² μ΄μ¤ μλ™ μ΄κΈ°ν™” μ‹¤ν–‰...")
initialize_database()
```

### 2. start_railway.py κ°μ„ 
- ν™κ²½ λ³€μ κ²€μ¦ κ°•ν™”
- ν¨ν‚¤μ§€ μμ΅΄μ„± ν™•μΈ μ¶”κ°€
- λ” μ•μ •μ μΈ μ„λ²„ μ‹μ‘ λ΅μ§

### 3. μ¤λ¥ μ²λ¦¬ κ°•ν™”
- SQL λ¬Έμ¥λ³„ κ°λ³„ μ‹¤ν–‰μΌλ΅ μ¤λ¥ κ²©λ¦¬
- μƒμ„Έν• λ΅κΉ… λ° μ¤λ¥ μ¶”μ 
- νμΌ μ΅΄μ¬ μ—¬λ¶€ ν™•μΈ

## π€ λ°°ν¬ λ‹¨κ³„

### 1λ‹¨κ³„: λ΅μ»¬ ν…μ¤νΈ
```bash
cd backend
python test_deployment.py
```

### 2λ‹¨κ³„: Railway ν™κ²½ λ³€μ ν™•μΈ
- `DATABASE_URL`: PostgreSQL μ—°κ²° λ¬Έμμ—΄
- `OPENAI_API_KEY`: OpenAI API ν‚¤ (μ„ νƒμ‚¬ν•­)

### 3λ‹¨κ³„: λ°°ν¬ μ‹¤ν–‰
```bash
# Railway CLI μ‚¬μ©
railway up

# λλ” GitHub μ—°λ™μΌλ΅ μλ™ λ°°ν¬
```

## π” λ¬Έμ  μ§„λ‹¨

### μ„λ²„ μ‹μ‘ μ¤λ¥ ν™•μΈ
1. Railway λ€μ‹λ³΄λ“μ—μ„ λ΅κ·Έ ν™•μΈ
2. ν™κ²½ λ³€μ μ„¤μ • μƒνƒ ν™•μΈ
3. λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μƒνƒ ν™•μΈ

### μΌλ°μ μΈ μ¤λ¥ ν•΄κ²°

#### 1. λ¨λ“ μ„ν¬νΈ μ¤λ¥
```bash
# requirements.txt ν™•μΈ
pip install -r requirements_postgresql.txt
```

#### 2. λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ¤λ¥
- `DATABASE_URL` ν•μ‹ ν™•μΈ
- PostgreSQL μ„λΉ„μ¤ μƒνƒ ν™•μΈ

#### 3. νμΌ κ²½λ΅ μ¤λ¥
- `database_schema.sql` νμΌ μ΅΄μ¬ ν™•μΈ
- `insert_data.sql` νμΌ μ΅΄μ¬ ν™•μΈ

## π“ λ¨λ‹ν„°λ§

### ν—¬μ¤μ²΄ν¬ μ—”λ“ν¬μΈνΈ
```
GET /api/health
```

### λ°μ΄ν„°λ² μ΄μ¤ μƒνƒ ν™•μΈ
```python
# λ΅κ·Έμ—μ„ ν™•μΈ
"β… λ°μ΄ν„°λ² μ΄μ¤ μ΄κΈ°ν™” μ™„λ£!"
"β… PostgreSQL μ—°κ²° μ„±κ³µ!"
```

## π― μ„±κ³µ μ§€ν‘

1. β… μ„λ²„ μ‹μ‘ μ„±κ³µ
2. β… λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ„±κ³µ
3. β… ν…μ΄λΈ” μƒμ„± μ™„λ£
4. β… κΈ°λ³Έ λ°μ΄ν„° μ‚½μ… μ™„λ£
5. β… API μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ‹µ

## π“ μ¶”κ°€ μ§€μ›

λ¬Έμ κ°€ μ§€μ†λλ” κ²½μ°:
1. Railway λ΅κ·Έ μ „μ²΄ ν™•μΈ
2. ν™κ²½ λ³€μ μ¬μ„¤μ •
3. λ°μ΄ν„°λ² μ΄μ¤ μ„λΉ„μ¤ μ¬μ‹μ‘
4. ν”„λ΅μ νΈ μ¬λ°°ν¬

---

**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2024λ…„ 12μ›”
**λ²„μ „**: 2.0 (PostgreSQL νΈν™)
